
Подсистема ведения ПОСХД
=================================

Подсистема хранения данных предназначена для наполнения актуальной информацией Хранилища данных от подсистемы оперативной транзакционной обработки данных о проданных туроператорами туристских продуктах, данных о финансовых гарантиях туроператоров и других данных.

ПОСХД представляет собой логически целостное хранилище полной непротиворечивой информации, необходимой для обеспечения хранения данных других подсистем, создаваемых в рамках ИС ЭП третьей очереди, а также формирования отчетов, обеспечения доступа к информационным ресурсам Системы. 

Подсистема предназначена:

* для наполнения актуальной информацией Хранилища данных от подсистемы оперативной транзакционной обработки данных о проданных туроператорами туристских продуктах, данных о финансовых гарантиях туроператоров и других данных;

* для хранения непротиворечивой, очищенной юридически значимой информации, необходимой для проведения оперативных проверок деятельности участников туристского рынка, формирования аналитических отчетов, интеллектуального анализа данных и прогнозирования развития туристского рынка.


В подсистеме предусмотрены следующие функциональные возможности:

* получение данных из подсистемы оперативной транзакционной обработки данных;

* трансформация (преобразование) данных в форматы долговременного хранения;

* передача данных в СУБД в требуемом формате;

* обеспечение возможности настройки правил взаимодействия с подсистемой оперативной транзакционной обработки данных;

* передача данных подсистемы оперативного контроля в СУБД;

* протоколирование результатов сбора, обработки и загрузки данных в СУБД.

Подсистема реализует выполнение всех функций платформенным программным обеспечением PostgreSQL. Подсистема полностью реализуется программными модулями разрабатываемыми на языке программирования SQL и выполняются PostgreSQL.
 
При передаче данных в СУБД осуществляется кодирования данных элементов справочников. 

* Сферы тур.деятельности - Кодом должно являться название направления туризма на английском языке. 

* Виды туристических услуг - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным. 

* Типы путевок - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным

* Статусы путевок - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным

* Регионы мира - Кодом считается поле «Код UN M.49». В данное поле должно передаваться значение кодов UN M.9.

* Подрегионы мира - Код записидолжен содержать два знака и иметь вид ХХ. Первым знаком должен передаваться номер региона:

 1.  Европа

 2. Азия

 3. Африка

 4. Америка

 5. Океания

 6. Антарктида

Вторым знаком должна передоваться буква латинсокго алфавита. Значения от A до Z. Каждый код записи должен быть уникальным.

* Субъекты РФ - Кодом записи считается код субъекта РФ согласно конституции РФ.

* Страны - Кодом записи считать поле «Цифровой код». В поле цифровой код неоходимо передавать код страны из ОКСМ. Каждый код записи должен быть уникальным. 

* Города - В поле «Код» должно дублироваться значение поля «Код IATA». В случае если поле «Код IATA» - пустое, в поле «Код» должно вноситься четырехзначное значение.  Код должен иметь вид XXXX. Вместо XXXX должны передаваться буквенно-числовые значения. Кодирование элементов должно начинаться со значения 0001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу, после значения 9 должны использоваться буквенные значения от A до Z латинского алфавита. После значения Z, на одно значение должен увиличиваться следующий разряд кода, и нумерается предыдущего разряда должно снова начинаться с значения 0. Код каждей записи должен быть уникальным

* Аэропорты - В поле «Код» должно дублироваться значение поля «Код IATA». В случае если поле «Код IATA» - пустое, в поле «Код» должно доблироваться значение поля «Код ICAO». В случае если поля «Код ICAO» и код «IATA» пустые, в поле «Код» должно дублироваться значение поля код «РФ».

* Ж/Д станции - Кодом записи считается код Экспресс или код ЕСР передаеваемый из ЕГИС ОТБ.

* Типы перевозчиков - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным

* Перевозчики - В поле «Код» должно дублироваться значение поля «Код IATA». В случае если поле «Код IATA» - пустое, в поле «Код» должно доблироваться значение поля «Код ICAO». В случае если поля «Код ICAO» и код «IATA» пустые, в поле «Код» должно дублироваться значение поля код «РФ».

* Ж/Д перевозчики - В поле «Код» должно вноситься четырехзначное значение.  Код должен иметь вид XXXX. Вместо XXXX должны передаваться буквенно-числовые значения. Кодирование элементов должно начинаться со значения 0001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу, после значения 9 должны использоваться буквенные значения от A до Z латинского алфавита. После значения Z, на одно значение должен увиличиваться следующий разряд кода, и нумерается предыдущего разряда должно снова начинаться с значения 0. Код каждей записи должен быть уникальным

* Виды документа, удостоверяющего личность - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным

* Типы способов связи - Код записи должен состоять из трех символов. Код должен иметь вид XXX. Вместо XXX должны передаваться числовые значения. Кодирование элементов должно начинаться со значения 001. При добавлении элементов, числовое значение должно последовательно увеличиваться на единицу. Код каждей записи должен быть уникальным

* Валюты - В поле код неоходимо передавать буквенный код валюты из ОКВ. Каждый код записи должен быть уникальным.

* Регионы РФ - кодом является цифровой код субъекта РФ согласно конституции. 

По ссылке приведенной ниже вы можете скачать каталог базы данных ИС ЭП, физическую схему базы данных ИС ЭП в формате .pdf и .dmd.

:download:`Каталог базы данных <./_static/attach/katalogdb.docx>`.

:download:`Физическая схема базы данных.pdf <./_static/attach/Relational_EP.pdf>`.

:download:`Физическая схема базы данных.dmd <./_static/attach/voucher.dmd>`.


